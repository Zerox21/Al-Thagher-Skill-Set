{% extends "base.html" %}
{% block content %}
<h1 class="h1">{{ t('users') }}</h1>

<div class="grid2">
  <div class="card">
    <h2 class="h2">إضافة معلم</h2>
    <form method="post" action="{{ url_for('chairman.create_teacher') }}">
      <label>اسم المستخدم</label><input name="username" required>
      <label>الاسم</label><input name="name_ar">
      <label>كلمة المرور</label><input name="password" type="password" required>
      <button class="btn" type="submit">{{ t('save') }}</button>
    </form>
  </div>

  <div class="card">
    <h2 class="h2">إضافة طالب (Allowlist)</h2>
    <form method="post" action="{{ url_for('chairman.create_student') }}">
      <label>Student ID</label><input name="student_id" required>
      <label>الاسم</label><input name="name_ar">
      <label>المعلم (اختياري)</label>
      <select name="teacher_id">
        <option value="">--</option>
        {% for tchr in teachers %}
          <option value="{{ tchr.id }}">{{ tchr.name_ar }}</option>
        {% endfor %}
      </select>
      <label>كلمة المرور</label><input name="password" type="password" required>
      <button class="btn" type="submit">{{ t('save') }}</button>
    </form>
  </div>
</div>

<div class="card">
  <h2 class="h2">قائمة المعلمين</h2>
  <ul>{% for tchr in teachers %}<li>{{ tchr.username }} — {{ tchr.name_ar }}</li>{% endfor %}</ul>
</div>

<div class="card">
  <h2 class="h2">قائمة الطلاب</h2>
  <ul>{% for s in students %}<li>{{ s.student_id }} — {{ s.name_ar }} (Teacher: {{ s.teacher_id or '-' }})</li>{% endfor %}</ul>
</div>
{% endblock %}
